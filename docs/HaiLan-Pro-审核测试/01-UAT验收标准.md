# 海蓝 (HaiLan) Pro - UAT 用户验收标准

> **上线前最终检查 - 用户验收测试**
> **关联脚本**: `scripts/qa/regressionTestPlan.md` (已整合)

---

## 1. 测试目标

**UAT (User Acceptance Testing)** 是上线前的最后一道关卡，旨在从**真实用户视角**验证系统是否符合业务需求。
- **核心目标**: 发现阻碍用户使用的缺陷。
- **次要目标**: 验证业务流程的完整性与逻辑正确性。

---

## 2. 验收环境 (Staging)

| 项目 | 配置 |
|------|------|
| **URL** | `https://staging.hailan.com` |
| **数据** | 生产镜像的脱敏数据 (模拟真实数据) |
| **CDN** | 开启缓存 (模拟生产环境) |
| **账号** | 测试专用账号 (见“测试账号准备”章节) |

---

## 3. 测试账号准备

| 角色 | 账号 | 密码 | 权限 | 用途 |
|------|------|------|------|------|
| **普通用户** | test_user@hailan.com | Test123456 | 标准用户权益 | 验证基础流程 |
| **VIP用户** | vip_user@hailan.com | Test123456 | VIP权益/折扣 | 验证会员体系 |
| **管理员** | admin@hailan.com | Admin123456 | 后台管理权限 | 验证管理后台 |

---

## 4. 详细验收检查清单

### 4.1 环境与基础

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-001 | 环境可访问性 | 页面无 404/502 错误 | P0 | ☐ | |
| UAT-002 | 数据库连接 | 部分页面加载无数据报错 | P0 | ☐ | |
| UAT-003 | 第三方服务状态 | AI回复、支付接口可用 | P0 | ☐ | |
| UAT-004 | SSL证书 | 浏览器显示安全锁标，无证书警告 | P1 | ☐ | |

### 4.2 账户与认证

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-005 | 账号注册 | 收到验证码，注册成功，自动登录 | P0 | ☐ | |
| UAT-006 | 账号登录 | 正确账号登录成功，错误密码提示 | P0 | ☐ | |
| UAT-007 | 第三方登录 | 微信/Google授权后，账号关联正确 | P1 | ☐ | |
| UAT-008 | 忘记密码 | 发送重置链接，密码修改成功 | P1 | ☐ | |
| UAT-009 | 退出登录 | 清除Session，跳转登录页 | P2 | ☐ | |

### 4.3 首页与导航

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-010 | 首页加载速度 | 首屏加载 < 3s | P0 | ☐ | |
| UAT-011 | Banner轮播 | 自动播放，点击跳转正确 | P1 | ☐ | |
| UAT-012 | 分类导航 | 点击分类跳转至筛选页，筛选正确 | P0 | ☐ | |
| UAT-013 | 搜索框 | 输入关键词回车，结果相关 | P0 | ☐ | |

### 4.4 商品浏览

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-014 | 商品列表展示 | 图片清晰，价格、库存显示正确 | P0 | ☐ | |
| UAT-015 | 筛选功能 | 多维度筛选（价格、品牌）结果正确 | P0 | ☐ | |
| UAT-016 | 商品排序 | 销量、价格排序结果符合预期 | P1 | ☐ | |
| UAT-017 | 商品详情页 | 信息完整，规格选择联动价格 | P0 | ☐ | |

### 4.5 购物车与结算

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-018 | 加入购物车 | 购物车角标更新，商品在列表中 | P0 | ☐ | |
| UAT-019 | 修改数量/删除 | 小计总价实时更新 | P0 | ☐ | |
| UAT-020 | 优惠券码 | 有效码扣减金额，无效码提示 | P1 | ☐ | |
| UAT-021 | 结算页地址 | 自动保存常用地址，支持新增 | P0 | ☐ | |
| UAT-022 | 支付流程 | 跳转支付网关，支付成功回调 | P0 | ☐ | |
| UAT-023 | 订单生成 | 生成订单号，库存扣减 | P0 | ☐ | |

### 4.6 订单管理

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-024 | 订单列表 | 显示所有历史订单，状态正确 | P0 | ☐ | |
| UAT-025 | 订单详情 | 显示物流、商品、支付信息 | P1 | ☐ | |
| UAT-026 | 申请退款/售后 | 提交表单成功，生成工单 | P1 | ☐ | |
| UAT-027 | 追踪物流 | 物流信息同步正确 | P1 | ☐ | |

### 4.7 AI 智能功能

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-028 | AI助手打开 | 聊天窗口显示，连接正常 | P1 | ☐ | |
| UAT-029 | 推荐商品 | 推荐商品与用户浏览/购买相关 | P1 | ☐ | |
| UAT-030 | 智能搜索 | 搜索结果包含同义词/错别字纠正 | P2 | ☐ | |

### 4.8 客服与工单

| ID | 检查项 | 预期结果 | 优先级 | 状态 | 备注 |
|-----|-------|---------|--------|------|------|
| UAT-031 | 提交工单 | 工单ID生成，分类正确 | P1 | ☐ | |
| UAT-032 | 在线咨询 | 消息发送成功，客服可接收 | P1 | ☐ | |
| UAT-033 | 满意度评价 | 提交成功，影响工单状态 | P2 | ☐ | |

---

## 5. 验收通过标准 (Gate Criteria)

项目必须满足以下条件方可签署 UAT 通过：

1.  **P0级用例通过率**: **100%** (任何阻断性问题导致 UAT 失败)。
2.  **P1级用例通过率**: **100%** (重要功能需全部通过)。
3.  **P2级用例通过率**: **> 95%** (非阻断性问题，如UI微调可延后修复)。
4.  **无严重Bug**: 无导致数据丢失、资损或系统崩溃的严重Bug。
5.  **性能达标**: 首屏加载时间 < 3s，交互无卡顿。

---

## 6. 问题处理流程

1.  **发现Bug**: 填写 Jira Bug 单，标记 `UAT` 标签，优先级 `P0/P1`。
2.  **复核确认**: 产品经理 (PM) 确认该问题是否为需求变更或真实Bug。
3.  **修复开发**: 开发团队修复Bug，部署至 Staging 环境。
4.  **回归验证**: QA 团队针对修复点执行回归测试（见 `02-回归测试规范.md`）。
5.  **重新验收**: 回归通过后，再次执行 UAT 相关用例。

---

## 7. 验收签署 (Sign-off)

| 角色 | 姓名 | 签署日期 | 意见 | 状态 |
|------|------|----------|------|------|
| **QA Lead** | | | | ☐ |
| **Product Manager** | | | | ☐ |
| **Tech Lead** | | | | ☐ |

**最终结论**:
- [ ] **通过 - 批准上线**
- [ ] **不通过 - 需修复后重新验收**
- [ ] **有条件通过 - 非阻断Bug需在上线后24小时内修复**
