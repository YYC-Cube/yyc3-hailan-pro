---
@file: 089-数据库-商品分类体系定义.md
@description: HaiLan Pro 场景导向+科学分类体系(CARE/PLAY/INTIMACY/LINGERIE/SMART)定义
@author: YanYuCloudCube Team
@version: v1.0.0
@created: 2026-01-26
@updated: 2026-01-26
@status: published
@tags: [HaiLan-Pro-类型定义],[]
---

> ***YanYuCloudCube***
> **标语**：言启象限 | 语枢未来
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> **标语**：万象归元于云枢 | 深栈智启新纪元
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

# 089 数据库-商品分类体系定义

## 概述

本文档详细描述HaiLan Pro-HaiLan-Pro-类型定义-数据库-商品分类体系定义相关内容，确保项目按照YYC³标准规范进行开发和实施。

## 核心内容

### 1. 背景与目标

#### 1.1 项目背景
HaiLan Pro (海蓝) 是新一代高端、私密、智能的情趣健康生活管理平台。项目基于「五高五标五化」理念，通过 PWA 技术结合 AI 智能辅助与物联网，为用户提供从生理健康到心理愉悦的全方位解决方案。

#### 1.2 项目愿景
打造极致隐私、智能陪伴、品质合规、全场景覆盖的情趣健康生活管理平台，为用户提供安全、专业、高端的健康生活体验。

#### 1.3 核心价值主张
- **极致隐私**：双重加密、隐私浏览模式及伪装发货机制
- **智能陪伴**：基于 LLM 的 AI 情感与生理健康顾问
- **品质合规**：医疗级标准商品，高端"海蓝蓝"视觉调性
- **全场景覆盖**：PWA 端支持离线浏览、桌面安装及无缝推送

#### 1.4 文档目标
- 规范数据库-商品分类体系定义相关的业务标准与技术落地要求
- 为项目相关人员提供清晰的参考依据
- 保障相关模块开发、实施、运维的一致性与规范性

### 2. 设计原则

#### 2.1 五高原则
- **高可用性**：确保系统7x24小时稳定运行，支持PWA离线能力
- **高性能**：优化响应时间和处理能力，支持高并发访问
- **高安全性**：保护用户数据和隐私安全，双重加密机制
- **高扩展性**：支持业务快速扩展，微服务架构设计
- **高可维护性**：便于后续维护和升级，模块化设计

#### 2.2 五标体系
- **标准化**：统一的技术和流程标准
- **规范化**：严格的开发和管理规范
- **自动化**：提高开发效率和质量，CI/CD自动化
- **智能化**：利用AI技术提升能力，LLM智能顾问
- **可视化**：直观的监控和管理界面

#### 2.3 五化架构
- **流程化**：标准化的开发流程
- **文档化**：完善的文档体系
- **工具化**：高效的开发工具链
- **数字化**：数据驱动的决策
- **生态化**：开放的生态系统

### 3. 商品分类体系定义

#### 3.1 分类体系设计理念

HaiLan Pro采用「场景导向+科学分类」的双重分类体系，打破传统成人用品的分类刻板印象，从用户实际使用场景和健康需求出发，建立更加科学、私密、专业的商品分类体系。

```typescript
/**
 * 商品分类代码枚举
 * 基于场景导向的分类设计
 */
export enum ProductCategoryCode {
  /**
   * CARE - 关怀护理
   * 个人护理、健康用品、卫生清洁
   * 定位：日常健康、个人护理需求
   */
  CARE = 'CARE',

  /**
   * PLAY - 欢乐用品
   * 成人玩具、情趣用品、双人互动
   * 定位：情侣互动、愉悦体验
   */
  PLAY = 'PLAY',

  /**
   * INTIMACY - 亲密服饰
   * 性感内衣、情趣服饰、角色扮演
   * 定位：亲密时刻、角色扮演
   */
  INTIMACY = 'INTIMACY',

  /**
   * SMART - 智能硬件
   * 智能设备、IoT产品、健康监测
   * 定位：科技赋能、智能体验
   */
  SMART = 'SMART',

  /**
   * WELLNESS - 康健器械
   * 健康按摩、康复设备、身心放松
   * 定位：健康生活、身心舒缓
   */
  WELLNESS = 'WELLNESS'
}
```

#### 3.2 CARE 关怀护理分类

```typescript
/**
 * CARE分类子类
 */
export enum CareSubCategory {
  /** 女性护理 - 私密洗护、抗菌湿巾 */
  FEMININE_CARE = 'feminine_care',
  /** 男性护理 - 个人清洁、护理喷雾 */
  MALE_CARE = 'male_care',
  /** 润滑护理 - 润滑液、保湿剂 */
  LUBRICANTS = 'lubricants',
  /** 清洁护理 - 清洁用品、消毒喷雾 */
  HYGIENE = 'hygiene',
  /** 健康检测 - 早孕试纸、排卵测试 */
  HEALTH_TEST = 'health_test',
  /** 防护用品 - 避孕用品、安全防护 */
  PROTECTION = 'protection'
}

/**
 * CARE分类属性定义
 */
export interface CareCategoryAttributes {
  /** 适用人群 */
  targetAudience: 'female' | 'male' | 'unisex';
  /** 产品安全性等级 */
  safetyLevel: 'medical' | 'consumer';
  /** 是否需要医疗资质 */
  requiresMedicalCert: boolean;
  /** 推荐使用场景 */
  recommendedScenes: string[];
}
```

#### 3.3 PLAY 欢乐用品分类

```typescript
/**
 * PLAY分类子类
 */
export enum PlaySubCategory {
  /** 女性玩具 - 震棒、跳蛋等 */
  FEMALE_TOYS = 'female_toys',
  /** 男性玩具 - 飞机杯、名器等 */
  MALE_TOYS = 'male_toys',
  /** 情侣玩具 - 双人共享、震动棒 */
  COUPLE_TOYS = 'couple_toys',
  /** 角色扮演 - 道具、服装、场景 */
  ROLEPLAY = 'roleplay',
  /** 情趣游戏 - 桌游、卡牌、道具 */
  GAMES = 'games',
  /** BDSM - 轻度束缚、调教道具 */
  BDSM = 'bdsm'
}

/**
 * PLAY分类属性定义
 */
export interface PlayCategoryAttributes {
  /** 噪音等级 */
  noiseLevel: 'silent' | 'low' | 'medium' | 'high';
  /** 防水等级 */
  waterResistance: 'none' | 'splash' | 'waterproof';
  /** 充电方式 */
  chargingType: 'usb' | 'magnetic' | 'wireless' | 'battery';
  /** 材质安全性 */
  materialSafety: 'medical_silicone' | 'tpe' | 'abs';
  /** 震动模式数量 */
  vibrationModes: number;
  /** 是否可APP控制 */
  appControlled: boolean;
}
```

#### 3.4 INTIMACY 亲密服饰分类

```typescript
/**
 * INTIMACY分类子类
 */
export enum IntimacySubCategory {
  /** 性感内衣 - 文胸、内裤、睡衣 */
  LINGERIE = 'lingerie',
  /** 角色服装 | 'roleplay',
  /** 情趣袜裤 | 'stockings',
  /** 体内服饰 - 隐形内裤、塑身衣 */
  BODY_WEAR = 'body_wear',
  /** 情趣配饰 - 眼罩、手铐、项圈 */
  ACCESSORIES = 'accessories'
}

/**
 * INTIMACY分类属性定义
 */
export interface IntimacyCategoryAttributes {
  /** 尺码体系 */
  sizeSystem: 'cn' | 'eu' | 'us' | 'free';
  /** 尺码范围 */
  sizeRange: string[];
  /** 颜色选项 */
  colors: string[];
  /** 材质成分 */
  materials: string[];
  /** 季节适合 */
  season: 'all_season' | 'summer' | 'winter';
  /** 风格定位 */
  style: 'sweet' | 'sexy' | 'elegant' | 'wild';
}
```

#### 3.5 SMART 智能硬件分类

```typescript
/**
 * SMART分类子类
 */
export enum SmartSubCategory {
  /** 智能按摩 - 颈椎、腰椎、眼部按摩仪 */
  SMART_MASSAGER = 'smart_massager',
  /** 健康监测 - 智能戒指、健康手环 */
  HEALTH_TRACKER = 'health_tracker',
  /** 智能玩具 - APP控制、语音交互 */
  SMART_TOYS = 'smart_toys',
  /** 智能服饰 - 传感内衣、加热服装 */
  SMART_WEARABLE = 'smart_wearable',
  /** 家居设备 | 'home_device'
}

/**
 * SMART分类属性定义
 */
export interface SmartCategoryAttributes {
  /** 连接方式 */
  connectivity: ('bluetooth_le' | 'wifi' | 'usb' | 'wireless')[];
  /** APP支持 */
  appSupport: {
    ios: boolean;
    android: boolean;
    minVersion?: string;
  };
  /** 电池容量 */
  batteryCapacity: number;  // mAh
  /** 充电时间 */
  chargingTime: number;     // 分钟
  /** 续航时间 */
  batteryLife: number;      // 小时
  /** 防水等级 */
  ipRating?: string;        // IPX4, IPX7等
  /** 固件可升级 */
  firmwareUpgradeable: boolean;
}
```

#### 3.6 WELLNESS 康健器械分类

```typescript
/**
 * WELLNESS分类子类
 */
export enum WellnessSubCategory {
  /** 按摩设备 - 颈椎、腰椎、足部按摩 */
  MASSAGE_DEVICE = 'massage_device',
  /** 康复器材 - 理疗仪器、康复设备 */
  REHABILITATION = 'rehabilitation',
  /** 放松设备 - 香薰、瑜伽、冥想辅助 */
  RELAXATION = 'relaxation',
  /** 运动健身 - 小型器材、康复训练 */
  FITNESS = 'fitness',
  /** 睡眠辅助 | 'sleep_aid'
}

/**
 * WELLNESS分类属性定义
 */
export interface WellnessCategoryAttributes {
  /** 健康功能 */
  healthFunctions: string[];
  /** 医疗认证 */
  medicalCertifications?: string[];
  /** 适用症状 */
  applicableSymptoms: string[];
  /** 使用时长 */
  recommendedDuration: number;  // 分钟
  /** 禁忌症 */
  contraindications: string[];
}
```

#### 3.7 分类数据库结构

```sql
-- ========================================
-- 商品分类表 (product_categories)
-- ========================================
CREATE TABLE product_categories (
    id                      VARCHAR(32) PRIMARY KEY,
    parent_id               VARCHAR(32) REFERENCES product_categories(id),

    -- 分类标识
    code                    VARCHAR(50) NOT NULL UNIQUE,  -- CARE/PLAY/INTIMACY/SMART/WELLNESS
    slug                    VARCHAR(100) NOT NULL UNIQUE, -- URL友好名称

    -- 分类信息
    name                    VARCHAR(100) NOT NULL,       -- 分类名称
    short_name              VARCHAR(50),                -- 简称
    description            TEXT,                         -- 分类描述
    icon_url                VARCHAR(500),                -- 分类图标
    banner_url              VARCHAR(500),                -- 分类横幅

    -- 分类属性
    level                   INTEGER DEFAULT 0,           -- 层级：0=一级分类
    path                    VARCHAR(500),                -- 分类路径：CARE>FEMININE_CARE
    sort_order              INTEGER DEFAULT 0,           -- 排序顺序

    -- SEO
    meta_title              VARCHAR(200),
    meta_description        VARCHAR(500),
    meta_keywords           VARCHAR(500),

    -- 状态
    is_active               BOOLEAN DEFAULT TRUE,
    display_in_nav          BOOLEAN DEFAULT TRUE,       -- 是否在导航显示
    display_in_home         BOOLEAN DEFAULT TRUE,       -- 是否在首页显示

    -- 统计
    product_count           INTEGER DEFAULT 0,           -- 商品数量
    view_count              INTEGER DEFAULT 0,           -- 浏览量

    created_at              TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at              TIMESTAMP DEFAULT CURRENT_TIMESTAMP,

    -- 约束
    CONSTRAINT chk_category_code CHECK (
        code IN ('CARE', 'PLAY', 'INTIMACY', 'SMART', 'WELLNESS')
    )
);

CREATE INDEX idx_product_categories_code ON product_categories(code);
CREATE INDEX idx_product_categories_parent_id ON product_categories(parent_id);
CREATE INDEX idx_product_categories_level ON product_categories(level);

-- ========================================
-- 分类属性表 (category_attributes)
-- ========================================
CREATE TABLE category_attributes (
    id                      VARCHAR(32) PRIMARY KEY,
    category_id             VARCHAR(32) NOT NULL REFERENCES product_categories(id) ON DELETE CASCADE,

    -- 属性信息
    attribute_key           VARCHAR(50) NOT NULL,        -- 属性键：noise_level,water_proof等
    attribute_type          VARCHAR(20) NOT NULL,        -- 属性类型：text/number/boolean/select/color
    attribute_value         TEXT,                         -- 属性值（JSON数组或具体值）

    -- 显示配置
    display_name            VARCHAR(100) NOT NULL,       -- 显示名称
    display_order           INTEGER DEFAULT 0,           -- 显示顺序
    is_required            BOOLEAN DEFAULT FALSE,        -- 是否必填
    is_filterable           BOOLEAN DEFAULT FALSE,       -- 是否可筛选

    created_at              TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_category_attributes_category_id ON category_attributes(category_id);
CREATE INDEX idx_category_attributes_key ON category_attributes(attribute_key);
```

#### 3.8 分类树结构数据

```typescript
/**
 * 商品分类树结构
 * 完整的层级分类数据
 */
export const ProductCategoryTree = {
  code: 'ROOT',
  name: '全部分类',
  children: [
    {
      code: ProductCategoryCode.CARE,
      name: '关怀护理',
      icon: 'care-icon.svg',
      description: '个人护理与健康用品',
      children: [
        {
          code: CareSubCategory.FEMININE_CARE,
          name: '女性护理',
          slug: 'care/feminine',
          attributes: {
            targetAudience: 'female',
            safetyLevel: 'consumer',
            recommendedScenes: ['日常护理', '经期护理']
          }
        },
        {
          code: CareSubCategory.MALE_CARE,
          name: '男性护理',
          slug: 'care/male',
          attributes: {
            targetAudience: 'male',
            safetyLevel: 'consumer',
            recommendedScenes: ['日常清洁', '个人护理']
          }
        },
        {
          code: CareSubCategory.LUBRICANTS,
          name: '润滑护理',
          slug: 'care/lubricants',
          attributes: {
            targetAudience: 'unisex',
            safetyLevel: 'medical',
            requiresMedicalCert: false
          }
        },
        {
          code: CareSubCategory.HYGIENE,
          name: '清洁护理',
          slug: 'care/hygiene',
          attributes: {
            targetAudience: 'unisex',
            safetyLevel: 'consumer'
          }
        },
        {
          code: CareSubCategory.HEALTH_TEST,
          name: '健康检测',
          slug: 'care/health-test',
          attributes: {
            targetAudience: 'female',
            safetyLevel: 'medical',
            requiresMedicalCert: true
          }
        },
        {
          code: CareSubCategory.PROTECTION,
          name: '防护用品',
          slug: 'care/protection',
          attributes: {
            targetAudience: 'unisex',
            safetyLevel: 'medical',
            requiresMedicalCert: true
          }
        }
      ]
    },
    {
      code: ProductCategoryCode.PLAY,
      name: '欢乐用品',
      icon: 'play-icon.svg',
      description: '成人玩具与情趣用品',
      children: [
        {
          code: PlaySubCategory.FEMALE_TOYS,
          name: '女性玩具',
          slug: 'play/female-toys',
          attributes: {
            noiseLevel: 'low',
            waterResistance: 'waterproof',
            materialSafety: 'medical_silicone',
            appControlled: true
          }
        },
        {
          code: PlaySubCategory.MALE_TOYS,
          name: '男性玩具',
          slug: 'play/male-toys',
          attributes: {
            noiseLevel: 'silent',
            waterResistance: 'splash',
            materialSafety: 'tpe'
          }
        },
        {
          code: PlaySubCategory.COUPLE_TOYS,
          name: '情侣玩具',
          slug: 'play/couple-toys',
          attributes: {
            noiseLevel: 'low',
            waterResistance: 'waterproof',
            appControlled: true
          }
        },
        {
          code: PlaySubCategory.ROLEPLAY,
          name: '角色扮演',
          slug: 'play/roleplay',
          attributes: {
            sizeSystem: 'free',
            style: 'sexy'
          }
        },
        {
          code: PlaySubCategory.GAMES,
          name: '情趣游戏',
          slug: 'play/games',
          attributes: {
            playerCount: [2, 3, 4]
          }
        },
        {
          code: PlaySubCategory.BDSM,
          name: 'BDSM',
          slug: 'play/bdsm',
          attributes: {
            experienceLevel: 'beginner',
            safetyLevel: 'consumer'
          }
        }
      ]
    },
    {
      code: ProductCategoryCode.INTIMACY,
      name: '亲密服饰',
      icon: 'intimacy-icon.svg',
      description: '性感内衣与情趣服饰',
      children: [
        {
          code: IntimacySubCategory.LINGERIE,
          name: '性感内衣',
          slug: 'intimacy/lingerie',
          attributes: {
            sizeSystem: 'cn',
            sizeRange: ['S', 'M', 'L', 'XL', 'XXL'],
            materials: ['蕾丝', '丝绸', '棉质', '缎面'],
            season: 'all_season'
          }
        },
        {
          code: IntimacySubCategory.ROLEPLAY,
          name: '角色服装',
          slug: 'intimacy/roleplay',
          attributes: {
            sizeSystem: 'free',
            style: 'sexy'
          }
        },
        {
          code: IntimacySubCategory.STOCKINGS,
          name: '情趣袜裤',
          slug: 'intimacy/stockings',
          attributes: {
            sizeSystem: 'free',
            materials: ['尼龙', '蕾丝', '丝绸']
          }
        },
        {
          code: IntimacySubCategory.BODY_WEAR,
          name: '体内服饰',
          slug: 'intimacy/body-wear',
          attributes: {
            sizeSystem: 'cn',
            sizeRange: ['S', 'M', 'L']
          }
        },
        {
          code: IntimacySubCategory.ACCESSORIES,
          name: '情趣配饰',
          slug: 'intimacy/accessories',
          attributes: {
            materials: ['皮革', '金属', '羽毛']
          }
        }
      ]
    },
    {
      code: ProductCategoryCode.SMART,
      name: '智能硬件',
      icon: 'smart-icon.svg',
      description: '智能设备与IoT产品',
      children: [
        {
          code: SmartSubCategory.SMART_MASSAGER,
          name: '智能按摩',
          slug: 'smart/massager',
          attributes: {
            connectivity: ['bluetooth_le', 'wifi'],
            appSupport: { ios: true, android: true },
            batteryLife: 2
          }
        },
        {
          code: SmartSubCategory.HEALTH_TRACKER,
          name: '健康监测',
          slug: 'smart/health-tracker',
          attributes: {
            connectivity: ['bluetooth_le'],
            appSupport: { ios: true, android: true },
            batteryLife: 7
          }
        },
        {
          code: SmartSubCategory.SMART_TOYS,
          name: '智能玩具',
          slug: 'smart/toys',
          attributes: {
            connectivity: ['bluetooth_le', 'app'],
            appSupport: { ios: true, android: true },
            batteryLife: 1.5
          }
        },
        {
          code: SmartSubCategory.SMART_WEARABLE,
          name: '智能服饰',
          slug: 'smart/wearable',
          attributes: {
            connectivity: ['bluetooth_le'],
            batteryLife: 4
          }
        },
        {
          code: SmartSubCategory.HOME_DEVICE,
          name: '智能家居',
          slug: 'smart/home',
          attributes: {
            connectivity: ['wifi'],
            batteryLife: 24
          }
        }
      ]
    },
    {
      code: ProductCategoryCode.WELLNESS,
      name: '康健器械',
      icon: 'wellness-icon.svg',
      description: '健康按摩与康复设备',
      children: [
        {
          code: WellnessSubCategory.MASSAGE_DEVICE,
          name: '按摩设备',
          slug: 'wellness/massage',
          attributes: {
            healthFunctions: ['缓解疲劳', '促进血液循环'],
            recommendedDuration: 15
          }
        },
        {
          code: WellnessSubCategory.REHABILITATION,
          name: '康复器材',
          slug: 'wellness/rehabilitation',
          attributes: {
            healthFunctions: ['康复训练', '肌肉放松'],
            recommendedDuration: 20
          }
        },
        {
          code: WellnessSubCategory.RELAXATION,
          name: '放松设备',
          slug: 'wellness/relaxation',
          attributes: {
            healthFunctions: ['缓解压力', '促进睡眠'],
            recommendedDuration: 30
          }
        },
        {
          code: WellnessSubCategory.FITNESS,
          name: '运动健身',
          slug: 'wellness/fitness',
          attributes: {
            healthFunctions: ['增强体质', '塑造身材']
          }
        },
        {
          code: WellnessSubCategory.SLEEP_AID,
          name: '睡眠辅助',
          slug: 'wellness/sleep-aid',
          attributes: {
            healthFunctions: ['改善睡眠', '助眠']
          }
        }
      ]
    }
  ]
};
```

#### 3.9 分类推荐规则

```typescript
/**
 * 分类推荐规则
 * 根据用户行为和偏好推荐分类
 */
export class CategoryRecommendationRules {
  /**
   * 新用户分类推荐
   */
  static getNewUserCategories(): ProductCategoryCode[] {
    return [
      ProductCategoryCode.CARE,      // 基础护理用品
      ProductCategoryCode.SMART,     // 智能硬件（科技感）
      ProductCategoryCode.WELLNESS   // 康健器械（健康定位）
    ];
  }

  /**
   * 浏览CARE分类的用户推荐
   */
  static afterCareBrowsed(): ProductCategoryCode[] {
    return [
      ProductCategoryCode.WELLNESS,  // 康健器械延伸
      ProductCategoryCode.SMART      // 智能硬件升级
    ];
  }

  /**
   * 浏览PLAY分类的用户推荐
   */
  static afterPlayBrowsed(): ProductCategoryCode[] {
    return [
      ProductCategoryCode.INTIMACY,  // 亲密服饰搭配
      ProductCategoryCode.CARE       // 护理用品配合
    ];
  }

  /**
   * 购买SMART分类的用户推荐
   */
  static afterSmartPurchased(): ProductCategoryCode[] {
    return [
      ProductCategoryCode.CARE,      // 配套护理用品
      ProductCategoryCode.WELLNESS   // 更多健康设备
    ];
  }
}
```

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***」
