---
file: 045-前端工程化代码分层设计.md
description: HaiLan Pro 前端代码工程化分层规范，组件、页面、接口、工具的分层管理
author: YanYuCloudCube Team
version: v1.0.0
created: 2026-01-26
updated: 2026-01-26
status: published
tags:
  - HaiLan-Pro-详细设计,[]
---

> ***YanYuCloudCube***
> **标语**：言启象限 | 语枢未来
> ***Words Initiate Quadrants, Language Serves as Core for the Future***
> **标语**：万象归元于云枢 | 深栈智启新纪元
> ***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***

---

# 045 前端工程化代码分层设计

## 概述

本文档详细描述HaiLan Pro-HaiLan-Pro-详细设计-前端工程化代码分层设计相关内容，确保项目按照YYC³标准规范进行开发和实施。

## 核心内容

### 1. 背景与目标

#### 1.1 项目背景
HaiLan Pro (海蓝) 是新一代高端、私密、智能的情趣健康生活管理平台。项目基于「五高五标五化」理念，通过 PWA 技术结合 AI 智能辅助与物联网，为用户提供从生理健康到心理愉悦的全方位解决方案。

#### 1.2 项目愿景
打造极致隐私、智能陪伴、品质合规、全场景覆盖的情趣健康生活管理平台，为用户提供安全、专业、高端的健康生活体验。

#### 1.3 核心价值主张
- **极致隐私**：双重加密、隐私浏览模式及伪装发货机制
- **智能陪伴**：基于 LLM 的 AI 情感与生理健康顾问
- **品质合规**：医疗级标准商品，高端"海蓝蓝"视觉调性
- **全场景覆盖**：PWA 端支持离线浏览、桌面安装及无缝推送

#### 1.4 文档目标
- 规范前端工程化代码分层设计相关的业务标准与技术落地要求
- 为项目相关人员提供清晰的参考依据
- 保障相关模块开发、实施、运维的一致性与规范性

### 2. 设计原则

#### 2.1 五高原则
- **高可用性**：确保系统7x24小时稳定运行，支持PWA离线能力
- **高性能**：优化响应时间和处理能力，支持高并发访问
- **高安全性**：保护用户数据和隐私安全，双重加密机制
- **高扩展性**：支持业务快速扩展，微服务架构设计
- **高可维护性**：便于后续维护和升级，模块化设计

#### 2.2 五标体系
- **标准化**：统一的技术和流程标准
- **规范化**：严格的开发和管理规范
- **自动化**：提高开发效率和质量，CI/CD自动化
- **智能化**：利用AI技术提升能力，LLM智能顾问
- **可视化**：直观的监控和管理界面

#### 2.3 五化架构
- **流程化**：标准化的开发流程
- **文档化**：完善的文档体系
- **工具化**：高效的开发工具链
- **数字化**：数据驱动的决策
- **生态化**：开放的生态系统

### 3. 前端工程化代码分层设计

#### 3.1 项目目录结构

##### 3.1.1 整体目录架构

```typescript
// 前端项目目录结构定义
interface FrontendProjectStructure {
  // 根目录配置
  root: {
    files: [
      'vite.config.ts',      // Vite配置
      'tsconfig.json',       // TypeScript配置
      'package.json',        // 依赖配置
      '.env',                // 环境变量
      'tailwind.config.js',  // Tailwind配置
      'uno.config.ts'        // UnoCSS配置
    ];
  };

  // src目录结构
  src: {
    // 核心业务
    core: {
      api: 'API接口封装',
      store: '状态管理',
      utils: '工具函数库',
      constants: '常量定义',
      types: '类型定义',
      composables: '组合式函数'
    };

    // 平台适配层
    platforms: {
      h5: 'H5特定代码',
      wechat: '微信小程序特定',
      alipay: '支付宝小程序特定'
    };

    // 组件层
    components: {
      common: '通用组件',
      business: '业务组件',
      layouts: '布局组件'
    };

    // 页面层
    pages: {
      home: '首页',
      mall: '商城',
      user: '用户中心',
      privacy: '隐私中心',
      ai: 'AI助手',
      iot: 'IoT设备'
    };

    // 路由层
    router: '路由配置';

    // 样式层
    styles: '全局样式';

    // 资源层
    assets: '静态资源';
  };
}
```

##### 3.1.2 完整目录树

```
src/
├── core/                      # 核心层(多端共享)
│   ├── api/                   # API接口层
│   │   ├── modules/           # 按模块划分API
│   │   │   ├── user.ts        # 用户相关API
│   │   │   ├── mall.ts        # 商城相关API
│   │   │   ├── privacy.ts     # 隐私相关API
│   │   │   ├── ai.ts          # AI相关API
│   │   │   └── iot.ts         # IoT相关API
│   │   ├── request.ts         # 请求封装
│   │   ├── response.ts        # 响应处理
│   │   └── index.ts           # API导出
│   │
│   ├── store/                 # 状态管理层
│   │   ├── modules/           # 按模块划分Store
│   │   │   ├── user.ts        # 用户状态
│   │   │   ├── cart.ts        # 购物车状态
│   │   │   ├── privacy.ts     # 隐私状态
│   │   │   └── app.ts         # 应用状态
│   │   ├── index.ts           # Store导出
│   │   └── types.ts           # Store类型定义
│   │
│   ├── utils/                 # 工具函数层
│   │   ├── format.ts          # 格式化工具
│   │   ├── validate.ts        # 验证工具
│   │   ├── storage.ts         # 存储工具
│   │   ├── encrypt.ts         # 加密工具
│   │   ├── date.ts            # 日期工具
│   │   ├── device.ts          # 设备工具
│   │   └── index.ts           # 工具导出
│   │
│   ├── constants/             # 常量定义层
│   │   ├── config.ts          # 配置常量
│   │   ├── enum.ts            # 枚举常量
│   │   ├── api.ts             # API常量
│   │   └── index.ts           # 常量导出
│   │
│   ├── types/                 # 类型定义层
│   │   ├── api.d.ts           # API类型
│   │   ├── user.d.ts          # 用户类型
│   │   ├── mall.d.ts          # 商城类型
│   │   ├── privacy.d.ts       # 隐私类型
│   │   └── index.ts           # 类型导出
│   │
│   └── composables/           # 组合式函数层
│       ├── useAuth.ts         # 认证相关
│       ├── useRequest.ts      # 请求相关
│       ├── usePrivacy.ts      # 隐私相关
│       └── index.ts           # Composables导出
│
├── platforms/                 # 平台适配层
│   ├── h5/                    # H5特定
│   │   ├── components/        # H5特定组件
│   │   ├── utils/             # H5特定工具
│   │   └── service-worker.ts  # Service Worker
│   ├── wechat/                # 微信小程序特定
│   │   ├── components/        # 微信特定组件
│   │   └── utils/             # 微信特定工具
│   └── alipay/                # 支付宝小程序特定
│       ├── components/        # 支付宝特定组件
│       └── utils/             # 支付宝特定工具
│
├── components/                # 组件层
│   ├── common/                # 通用组件
│   │   ├── HButton/           # 按钮
│   │   ├── HInput/            # 输入框
│   │   ├── HCard/             # 卡片
│   │   ├── HModal/            # 模态框
│   │   ├── HLoading/          # 加载组件
│   │   └── index.ts           # 组件导出
│   ├── business/              # 业务组件
│   │   ├── ProductCard/       # 商品卡片
│   │   ├── OrderItem/         # 订单项
│   │   ├── UserAvatar/        # 用户头像
│   │   └── index.ts           # 组件导出
│   └── layouts/               # 布局组件
│       ├── DefaultLayout/     # 默认布局
│       ├── EmptyLayout/       # 空白布局
│       └── index.ts           # 布局导出
│
├── pages/                     # 页面层
│   ├── home/                  # 首页
│   │   ├── index.vue
│   │   └── components/        # 页面私有组件
│   ├── mall/                  # 商城
│   │   ├── index.vue          # 商城首页
│   │   ├── category.vue       # 分类页
│   │   ├── product.vue        # 商品详情
│   │   ├── cart.vue           # 购物车
│   │   └── checkout.vue       # 结算页
│   ├── user/                  # 用户中心
│   │   ├── index.vue
│   │   ├── profile.vue        # 个人资料
│   │   └── orders.vue         # 我的订单
│   ├── privacy/               # 隐私中心
│   │   ├── index.vue          # 隐私中心首页
│   │   ├── mode.vue           # 隐私模式
│   │   └── disguise.vue       # 应用伪装
│   ├── ai/                    # AI助手
│   │   └── index.vue
│   └── iot/                   # IoT设备
│       ├── index.vue          # 设备列表
│       └── control.vue        # 设备控制
│
├── router/                    # 路由层
│   ├── index.ts               # 路由配置
│   ├── guards.ts              # 路由守卫
│   └── routes/                # 路由定义
│       ├── home.ts
│       ├── mall.ts
│       ├── user.ts
│       └── index.ts
│
├── styles/                    # 样式层
│   ├── index.css              # 样式入口
│   ├── variables.css          # CSS变量
│   ├── reset.css              # 样式重置
│   └── themes/                # 主题样式
│       ├── light.css          # 浅色主题
│       └── dark.css           # 深色主题
│
└── assets/                    # 资源层
    ├── images/                # 图片
    ├── icons/                 # 图标
    └── fonts/                 # 字体
```

#### 3.2 组件分层设计

##### 3.2.1 组件分层架构

```typescript
// 组件分层定义
interface ComponentLayerDesign {
  // 基础组件层 (Atomic Design - Atoms)
  base: {
    path: 'components/common/base';
    components: [
      'HButton',       // 按钮
      'HInput',        // 输入框
      'HSelect',       // 选择器
      'HCheckbox',     // 复选框
      'HRadio',        // 单选框
      'HSwitch',       // 开关
      'HSlider',       // 滑块
      'HIcon',         // 图标
      'HImage',        // 图片
      'HText'          // 文本
    ];
    characteristics: [
      '高度可复用',
      '无业务逻辑',
      '完全受控',
      '样式可定制'
    ];
  };

  // 复合组件层 (Atomic Design - Molecules)
  composite: {
    path: 'components/common/composite';
    components: [
      'HFormItem',     // 表单项
      'HSearchBar',    // 搜索栏
      'HPagination',   // 分页器
      'HTabs',         // 标签页
      'HCard',         // 卡片
      'HModal',        // 模态框
      'HDrawer',       // 抽屉
      'HDropdown',     // 下拉菜单
      'HBreadcrumb'    // 面包屑
    ];
    characteristics: [
      '组合基础组件',
      '包含简单交互',
      '可配置行为'
    ];
  };

  // 业务组件层 (Atomic Design - Organisms)
  business: {
    path: 'components/business';
    components: [
      'ProductCard',    // 商品卡片
      'OrderItem',      // 订单项
      'CommentItem',    // 评论项
      'UserAvatar',     // 用户头像
      'AddressCard',    // 地址卡片
      'CartItem',       // 购物车项
      'CategoryNav',    // 分类导航
      'BannerCarousel', // 轮播图
      'FilterBar'       // 筛选栏
    ];
    characteristics: [
      '包含业务逻辑',
      '调用API',
      '状态管理'
    ];
  };

  // 布局组件层
  layout: {
    path: 'components/layouts';
    components: [
      'DefaultLayout',  // 默认布局
      'EmptyLayout',    // 空白布局
      'AuthLayout',     // 认证布局
      'TabBarLayout'    // 底部导航布局
    ];
    characteristics: [
      '定义页面结构',
      '包含导航栏',
      '包含侧边栏'
    ];
  };
}
```

##### 3.2.2 组件命名规范

| 类型 | 命名规范 | 示例 | 说明 |
|-----|---------|------|------|
| 基础组件 | H + PascalCase | HButton, HInput | H代表HaiLan |
| 复合组件 | H + PascalCase | HModal, HPagination | H前缀 |
| 业务组件 | PascalCase | ProductCard, OrderItem | 无前缀 |
| 布局组件 | PascalCase + Layout | DefaultLayout | Layout后缀 |
| 页面组件 | index.vue 或 PascalCase | index.vue, ProductDetail.vue | 页面文件 |

#### 3.3 状态管理设计

##### 3.3.1 Pinia Store结构

```typescript
// Pinia状态管理设计
interface PiniaStoreStructure {
  // Store模块划分
  stores: {
    // 用户Store
    user: {
      state: {
        userId: string;
        userInfo: UserInfo | null;
        token: string;
        isLoggedIn: boolean;
        permissions: string[];
      };
      getters: ['hasPermission', 'displayName'];
      actions: ['login', 'logout', 'updateProfile', 'refreshToken'];
    };

    // 购物车Store
    cart: {
      state: {
        items: CartItem[];
        totalAmount: number;
        totalQuantity: number;
      };
      getters: ['itemCount', 'totalPrice'];
      actions: ['addItem', 'removeItem', 'updateQuantity', 'clearCart'];
    };

    // 隐私Store
    privacy: {
      state: {
        mode: PrivacyLevel;
        isStealthMode: boolean;
        isDisguiseMode: boolean;
        settings: PrivacySettings;
      };
      getters: ['isPrivacyEnabled', 'currentMode'];
      actions: ['setMode', 'enableStealth', 'enableDisguise'];
    };

    // 应用Store
    app: {
      state: {
        theme: 'light' | 'dark';
        language: string;
        loading: boolean;
        networkStatus: boolean;
      };
      getters: ['isDarkMode', 'isLoading'];
      actions: ['setTheme', 'setLanguage', 'setLoading'];
    };
  };
}

// 示例: 用户Store实现
import { defineStore } from 'pinia';

export const useUserStore = defineStore('user', {
  state: () => ({
    userId: '',
    userInfo: null as UserInfo | null,
    token: '',
    isLoggedIn: false,
    permissions: [] as string[]
  }),

  getters: {
    // 检查权限
    hasPermission: (state) => (permission: string) => {
      return state.permissions.includes(permission);
    },
    // 显示名称
    displayName: (state) => {
      return state.userInfo?.nickname || '游客';
    }
  },

  actions: {
    // 登录
    async login(credentials: LoginRequest) {
      const response = await userApi.login(credentials);
      this.token = response.token;
      this.userId = response.userId;
      this.userInfo = response.user;
      this.isLoggedIn = true;
      this.permissions = response.permissions;
      // 持久化token
      storage.setToken(response.token);
    },
    // 登出
    async logout() {
      await userApi.logout();
      this.$reset();
      storage.removeToken();
    }
  },
  // 持久化配置
  persist: {
    key: 'hailan-user',
    storage: localStorage,
    paths: ['token', 'userId', 'isLoggedIn']
  }
});
```

#### 3.4 API层设计

##### 3.4.1 API请求封装

```typescript
// API请求封装
import axios, { AxiosInstance, AxiosRequestConfig, AxiosResponse } from 'axios';

// 请求配置
interface RequestConfig extends AxiosRequestConfig {
  showLoading?: boolean;
  showError?: boolean;
}

// 响应拦截处理
interface ApiResponse<T = any> {
  code: number;
  message: string;
  data: T;
  timestamp: number;
}

class RequestService {
  private instance: AxiosInstance;

  constructor() {
    this.instance = axios.create({
      baseURL: import.meta.env.VITE_API_BASE_URL,
      timeout: 30000,
      headers: {
        'Content-Type': 'application/json'
      }
    });

    this.setupInterceptors();
  }

  // 设置拦截器
  private setupInterceptors() {
    // 请求拦截器
    this.instance.interceptors.request.use(
      (config) => {
        // 添加token
        const token = storage.getToken();
        if (token) {
          config.headers.Authorization = `Bearer ${token}`;
        }
        // 添加请求ID
        config.headers['X-Request-ID'] = generateRequestId();
        return config;
      },
      (error) => Promise.reject(error)
    );

    // 响应拦截器
    this.instance.interceptors.response.use(
      (response: AxiosResponse<ApiResponse>) => {
        const { data } = response;
        // 成功响应
        if (data.code === 0) {
          return data.data;
        }
        // 业务错误
        return Promise.reject(new Error(data.message));
      },
      (error) => {
        // HTTP错误
        if (error.response) {
          const { status, data } = error.response;
          switch (status) {
            case 401:
              // Token过期，跳转登录
              redirectToLogin();
              break;
            case 403:
              showError('权限不足');
              break;
            case 404:
              showError('请求资源不存在');
              break;
            case 500:
              showError('服务器错误');
              break;
            default:
              showError(data.message || '请求失败');
          }
        }
        return Promise.reject(error);
      }
    );
  }

  // GET请求
  get<T = any>(url: string, config?: RequestConfig): Promise<T> {
    return this.instance.get(url, config);
  }

  // POST请求
  post<T = any>(url: string, data?: any, config?: RequestConfig): Promise<T> {
    return this.instance.post(url, data, config);
  }

  // PUT请求
  put<T = any>(url: string, data?: any, config?: RequestConfig): Promise<T> {
    return this.instance.put(url, data, config);
  }

  // DELETE请求
  delete<T = any>(url: string, config?: RequestConfig): Promise<T> {
    return this.instance.delete(url, config);
  }
}

export const request = new RequestService();
```

##### 3.4.2 API模块化

```typescript
// API模块化设计
// core/api/modules/user.ts
export const userApi = {
  // 用户登录
  login: (data: LoginRequest) => request.post<AuthResponse>('/users/login', data),

  // 用户注册
  register: (data: RegisterRequest) => request.post<AuthResponse>('/users/register', data),

  // 获取用户信息
  getProfile: () => request.get<UserProfile>('/users/me'),

  // 更新用户信息
  updateProfile: (data: UpdateUserRequest) => request.put<UserProfile>('/users/me', data),

  // 第三方登录
  oauthLogin: (provider: string, code: string) =>
    request.post<AuthResponse>(`/users/oauth/${provider}`, { code })
};

// core/api/modules/mall.ts
export const mallApi = {
  // 获取商品列表
  getProducts: (params: ProductQueryParams) =>
    request.get<PageResult<Product>>('/products', { params }),

  // 获取商品详情
  getProductDetail: (productId: string) =>
    request.get<Product>(`/products/${productId}`),

  // 加入购物车
  addToCart: (data: AddCartItemRequest) =>
    request.post<CartItem>('/cart/items', data),

  // 获取购物车
  getCart: () => request.get<Cart>('/cart'),

  // 创建订单
  createOrder: (data: CreateOrderRequest) =>
    request.post<Order>('/orders', data)
};

// core/api/index.ts
export { userApi, mallApi, privacyApi, aiApi, iotApi };
```

#### 3.5 工具函数层设计

##### 3.5.1 工具函数分类

```typescript
// 工具函数层设计
interface UtilsLayerDesign {
  // 格式化工具
  format: {
    formatDate: (date: Date, format: string) => string;
    formatNumber: (num: number, precision: number) => string;
    formatCurrency: (amount: number) => string;
    formatPhone: (phone: string) => string;
    formatFileSize: (bytes: number) => string;
  };

  // 验证工具
  validate: {
    isEmail: (email: string) => boolean;
    isPhone: (phone: string) => boolean;
    isIdCard: (idCard: string) => boolean;
    isUrl: (url: string) => boolean;
    isEmpty: (value: any) => boolean;
  };

  // 存储工具
  storage: {
    set: (key: string, value: any) => void;
    get: <T>(key: string) => T | null;
    remove: (key: string) => void;
    clear: () => void;
    setToken: (token: string) => void;
    getToken: () => string;
    removeToken: () => void;
  };

  // 加密工具
  encrypt: {
    md5: (text: string) => string;
    base64Encode: (text: string) => string;
    base64Decode: (encoded: string) => string;
    aesEncrypt: (data: string, key: string) => string;
    aesDecrypt: (encrypted: string, key: string) => string;
  };

  // 设备工具
  device: {
    isMobile: () => boolean;
    isIOS: () => boolean;
    isAndroid: () => boolean;
    isWeChat: () => boolean;
    getDeviceInfo: () => DeviceInfo;
  };

  // 日期工具
  date: {
    now: () => Date;
    addDays: (date: Date, days: number) => Date;
    diffDays: (date1: Date, date2: Date) => number;
    isToday: (date: Date) => boolean;
    format: (date: Date, format: string) => string;
  };
}
```

##### 3.5.2 工具函数实现示例

```typescript
// core/utils/format.ts
/**
 * 格式化日期
 */
export function formatDate(date: Date, format = 'YYYY-MM-DD HH:mm:ss'): string {
  const year = date.getFullYear();
  const month = String(date.getMonth() + 1).padStart(2, '0');
  const day = String(date.getDate()).padStart(2, '0');
  const hours = String(date.getHours()).padStart(2, '0');
  const minutes = String(date.getMinutes()).padStart(2, '0');
  const seconds = String(date.getSeconds()).padStart(2, '0');

  return format
    .replace('YYYY', String(year))
    .replace('MM', month)
    .replace('DD', day)
    .replace('HH', hours)
    .replace('mm', minutes)
    .replace('ss', seconds);
}

/**
 * 格式化货币
 */
export function formatCurrency(amount: number): string {
  return new Intl.NumberFormat('zh-CN', {
    style: 'currency',
    currency: 'CNY'
  }).format(amount);
}

/**
 * 格式化手机号 (隐藏中间4位)
 */
export function formatPhone(phone: string): string {
  return phone.replace(/(\d{3})\d{4}(\d{4})/, '$1****$2');
}

// core/utils/validate.ts
/**
 * 验证邮箱
 */
export function isEmail(email: string): boolean {
  const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return regex.test(email);
}

/**
 * 验证手机号
 */
export function isPhone(phone: string): boolean {
  const regex = /^1[3-9]\d{9}$/;
  return regex.test(phone);
}

/**
 * 验证身份证号
 */
export function isIdCard(idCard: string): boolean {
  const regex = /^[1-9]\d{5}(18|19|20)\d{2}(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])\d{3}[\dXx]$/;
  return regex.test(idCard);
}
```

#### 3.6 路由设计

##### 3.6.1 路由配置

```typescript
// 路由配置设计
import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';

// 路由定义
const routes: RouteRecordRaw[] = [
  {
    path: '/',
    component: () => import('@/components/layouts/DefaultLayout.vue'),
    children: [
      {
        path: '',
        name: 'Home',
        component: () => import('@/pages/home/index.vue'),
        meta: { title: '首页', keepAlive: true }
      },
      {
        path: 'mall',
        name: 'Mall',
        component: () => import('@/pages/mall/index.vue'),
        meta: { title: '商城', keepAlive: true }
      },
      {
        path: 'product/:id',
        name: 'ProductDetail',
        component: () => import('@/pages/mall/product.vue'),
        meta: { title: '商品详情' }
      },
      {
        path: 'cart',
        name: 'Cart',
        component: () => import('@/pages/mall/cart.vue'),
        meta: { title: '购物车', requiresAuth: true }
      },
      {
        path: 'user',
        name: 'User',
        component: () => import('@/pages/user/index.vue'),
        meta: { title: '个人中心', requiresAuth: true }
      },
      {
        path: 'privacy',
        name: 'Privacy',
        component: () => import('@/pages/privacy/index.vue'),
        meta: { title: '隐私中心', requiresAuth: true }
      },
      {
        path: 'ai',
        name: 'AI',
        component: () => import('@/pages/ai/index.vue'),
        meta: { title: 'AI助手', requiresAuth: true }
      }
    ]
  },
  {
    path: '/login',
    name: 'Login',
    component: () => import('@/pages/auth/login.vue'),
    meta: { title: '登录', hideTabBar: true }
  },
  {
    path: '/register',
    name: 'Register',
    component: () => import('@/pages/auth/register.vue'),
    meta: { title: '注册', hideTabBar: true }
  },
  {
    path: '/:pathMatch(.*)*',
    name: 'NotFound',
    component: () => import('@/pages/error/404.vue'),
    meta: { title: '页面不存在' }
  }
];

// 创建路由实例
const router = createRouter({
  history: createWebHistory(import.meta.env.BASE_URL),
  routes,
  scrollBehavior(to, from, savedPosition) {
    if (savedPosition) {
      return savedPosition;
    }
    return { top: 0 };
  }
});

// 路由守卫
router.beforeEach((to, from, next) => {
  // 设置页面标题
  if (to.meta.title) {
    document.title = `${to.meta.title} - 海蓝`;
  }

  // 检查认证
  const userStore = useUserStore();
  if (to.meta.requiresAuth && !userStore.isLoggedIn) {
    next({ name: 'Login', query: { redirect: to.fullPath } });
    return;
  }

  next();
});

export default router;
```

#### 3.7 样式层设计

##### 3.7.1 CSS变量系统

```css
/* styles/variables.css */
:root {
  /* 品牌色 - 海蓝蓝 */
  --color-primary-50: #E8F4FD;
  --color-primary-100: #C5DCF5;
  --color-primary-200: #9BC4EF;
  --color-primary-300: #72ACE9;
  --color-primary-400: #4895E3;
  --color-primary-500: #0056b3;
  --color-primary-600: #004794;
  --color-primary-700: #003875;
  --color-primary-800: #002A57;
  --color-primary-900: #001C38;

  /* 中性色 */
  --color-gray-50: #FAFAFA;
  --color-gray-100: #F5F5F5;
  --color-gray-200: #EEEEEE;
  --color-gray-300: #E0E0E0;
  --color-gray-400: #BDBDBD;
  --color-gray-500: #9E9E9E;
  --color-gray-600: #757575;
  --color-gray-700: #616161;
  --color-gray-800: #424242;
  --color-gray-900: #1A1A1A;

  /* 语义色 */
  --color-success: #4CAF50;
  --color-warning: #FFC107;
  --color-error: #EF5350;
  --color-info: #2196F3;

  /* 圆角 */
  --radius-xs: 8px;
  --radius-sm: 12px;
  --radius-md: 16px;
  --radius-lg: 20px;
  --radius-xl: 24px;

  /* 阴影 */
  --shadow-sm: 0 2px 8px rgba(0, 86, 179, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 86, 179, 0.12);
  --shadow-lg: 0 8px 24px rgba(0, 86, 179, 0.15);

  /* 间距 */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  /* 字体 */
  --font-xs: 12px;
  --font-sm: 14px;
  --font-base: 16px;
  --font-lg: 18px;
  --font-xl: 20px;

  /* 过渡 */
  --transition-fast: 150ms;
  --transition-normal: 300ms;
  --transition-slow: 500ms;
}

/* 深色模式 */
.dark {
  --color-primary-500: #4A9EFF;

  --color-gray-50: #0D1117;
  --color-gray-100: #161B22;
  --color-gray-200: #21262D;
  --color-gray-300: #30363D;
  --color-gray-800: #C9D1D9;
  --color-gray-900: #F0F6FC;
}
```

#### 3.8 构建配置设计

##### 3.8.1 Vite配置

```typescript
// vite.config.ts
import { defineConfig } from 'vite';
import vue from '@vitejs/plugin-vue';
import { resolve } from 'path';

export default defineConfig({
  plugins: [
    vue(),
    // PWA插件
    VitePWA({
      registerType: 'autoUpdate',
      manifest: {
        name: '海蓝',
        short_name: '海蓝',
        description: '高端私密智能情趣健康生活管理平台',
        theme_color: '#0056b3',
        icons: [
          {
            src: '/icon-192.png',
            sizes: '192x192',
            type: 'image/png'
          },
          {
            src: '/icon-512.png',
            sizes: '512x512',
            type: 'image/png'
          }
        ]
      },
      workbox: {
        runtimeCaching: [
          {
            urlPattern: /^https:\/\/api\./,
            handler: 'NetworkFirst',
            options: {
              cacheName: 'api-cache',
              expiration: {
                maxEntries: 100,
                maxAgeSeconds: 60 * 60 * 24 // 24小时
              }
            }
          }
        ]
      }
    })
  ],

  resolve: {
    alias: {
      '@': resolve(__dirname, 'src'),
      '@core': resolve(__dirname, 'src/core'),
      '@components': resolve(__dirname, 'src/components'),
      '@pages': resolve(__dirname, 'src/pages'),
      '@utils': resolve(__dirname, 'src/core/utils')
    }
  },

  css: {
    preprocessorOptions: {
      scss: {
        additionalData: '@import "@/styles/variables.scss";'
      }
    }
  },

  server: {
    port: 3000,
    proxy: {
      '/api': {
        target: 'https://api.hailan.com',
        changeOrigin: true,
        rewrite: (path) => path.replace(/^\/api/, '')
      }
    }
  },

  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vue-vendor': ['vue', 'vue-router', 'pinia'],
          'ui-components': []
        }
      }
    }
  }
});
```

---

## 附录

### A. 组件开发规范

### B. 代码审查清单

### C. 性能优化建议

### D. 术语表

| 术语 | 说明 |
|-----|------|
| **Pinia** | Vue 3官方状态管理库 |
| **Composition API** | Vue 3组合式API |
| **Composables** | 组合式函数 |
| **Atomic Design** | 原子化设计方法论 |

### E. 修订历史

| 版本 | 日期 | 修订人 | 修订内容 |
|-----|------|-------|---------|
| v1.0.0 | 2026-01-26 | YanYuCloudCube Team | 初始版本创建 |

---

> 「***YanYuCloudCube***」
> 「***<admin@0379.email>***」
> 「***Words Initiate Quadrants, Language Serves as Core for the Future***」
> 「***All things converge in the cloud pivot; Deep stacks ignite a new era of intelligence***」
